---
title: 每个物品概率已知_可提前终止选择_问相关类型选择期望
tags:
---

我们开篇直接给出一个题目,通过题目逐渐理解.

# 题目

有一棵树, 节点编号1-n, 现从中选取一个点,并将以这个点为根的子树删掉,每次选择节点的概率相等,问删除所有节点的期望为多少，[🔗cf280c](https://www.luogu.com.cn/problem/CF280C).

```
输入 #1
2
1 2

输出 #1
1.5
```
```
输入 #2
3
1 2
1 3

输出 #2 
2.0
```

删除一组点我们认为是一种染色方案，被删除的点染为黑色，对于点i，如果其父节点被染黑色，那么点i就不需要染黑色，所以i点被染黑色的概率为$\frac{1}{dep_{i}}$，其中$dep_{i}$表示为i点的（父节点数量 + 1）

对所有点的染色期望求和，即为答案.

